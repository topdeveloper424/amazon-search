(function(t){function e(e){for(var r,o,c=e[0],l=e[1],i=e[2],d=0,b=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&b.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(b.length)b.shift()();return n.push.apply(n,i||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,c=1;c<a.length;c++){var l=a[c];0!==s[l]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},s={app:0},n=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var i=0;i<c.length;i++)e(c[i]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"270d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),s=a("5f5b"),n=a("b1e0"),o=(a("f9e3"),a("2dd8"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-container",{attrs:{fluid:"xl"}},[a("router-view")],1)],1)}),c=[],l=(a("5c0b"),a("2877")),i={},u=Object(l["a"])(i,o,c,!1,null,null,null),d=u.exports,b=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home mt-3"},[a("h1",[t._v("Amazon search")]),a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{cols:"7"}},[a("b-row",[a("b-col",{staticClass:"text-right",attrs:{cols:"3"}},[a("label",{staticClass:"mt-1 mb-sm-0",attrs:{for:"inline-form-input-name"}},[t._v("Date Context:")])]),a("b-col",{staticClass:"text-left",attrs:{cols:"8"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",size:"sm"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",{staticClass:"text-right",attrs:{cols:"9"}},[a("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"search"}})],1),a("b-form-input",{attrs:{type:"search",placeholder:"Search terms"}})],1)],1),a("b-col",{staticClass:"text-left",attrs:{cols:"3"}},[a("b-button",{attrs:{variant:"danger",size:"sm",id:"searchBtn"}},[t._v("Search")])],1)],1),a("save-search-component")],1),a("b-col",[a("upload-file-component")],1)],1),a("b-row",{staticClass:"mt-3 mb-3"},[a("b-col",[a("data-view-component")],1)],1)],1)},p=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{sm:"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6","offset-md":"2"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.tableData.docs.length,"per-page":t.tableData.limit,align:"fill",size:"sm"},model:{value:t.tableData.page,callback:function(e){t.$set(t.tableData,"page",e)},expression:"tableData.page"}})],1)],1),null!=t.tableData?a("b-table",{attrs:{"show-empty":"",small:"",stacked:"md",items:t.tableData.docs,fields:t.fields,"current-page":t.tableData.page,"per-page":t.tableData.limit,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.value.first)+" "+t._s(e.value.last)+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(a){return t.info(e.item,e.index,a.target)}}},[t._v(" Info modal ")]),a("b-button",{attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}},{key:"row-details",fn:function(e){return[a("b-card",[a("ul",t._l(e.item,(function(e,r){return a("li",{key:r},[t._v(t._s(r)+": "+t._s(e))])})),0)])]}}],null,!1,95833799)}):t._e(),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[a("pre",[t._v(t._s(t.infoModal.content))])])],1)},v=[];a("d3b7"),a("e6cf"),a("96cf");function h(t,e,a,r,s,n,o){try{var c=t[n](o),l=c.value}catch(i){return void a(i)}c.done?e(l):Promise.resolve(l).then(r,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function o(t){h(n,r,s,o,c,"next",t)}function c(t){h(n,r,s,o,c,"throw",t)}o(void 0)}))}}var x={name:"Dataview",data:function(){return{tableData:null,fields:[{key:"searchTerm",label:"Search Term",sortable:!0,sortDirection:"desc"},{key:"rank",label:"Rank",sortable:!0,class:"text-center"},{key:"asin1",label:"ASIN #1",sortable:!0,sortDirection:"desc"},{key:"title1",label:"Title",sortable:!0,class:"text-center"},{key:"share1",label:"Share",sortable:!0,class:"text-center"},{key:"conv1",label:"Conv",sortable:!0,class:"text-center"},{key:"asin2",label:"ASIN #2",sortable:!0,sortDirection:"desc"},{key:"title2",label:"Title",sortable:!0,class:"text-center"},{key:"share2",label:"Share",sortable:!0,class:"text-center"},{key:"conv2",label:"Conv",sortable:!0,class:"text-center"},{key:"asin3",label:"ASIN #3",sortable:!0,sortDirection:"desc"},{key:"title3",label:"Title",sortable:!0,class:"text-center"},{key:"share3",label:"Share",sortable:!0,class:"text-center"},{key:"conv3",label:"Conv",sortable:!0,class:"text-center"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""}}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var t=g(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.getters.getPageData;case 2:e=t.sent,this.tableData=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),info:function(t,e,a){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.currentPage=1}}},y=x,k=(a("d2aa"),Object(l["a"])(y,m,v,!1,null,null,null)),_=k.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"save-search"},[a("b-row",{staticClass:"mt-3"},[a("b-col",{staticClass:"text-right"},[a("b-button",{staticClass:"ml-3",attrs:{variant:"primary",size:"sm",id:"searchBtn"}},[t._v("Save Search")])],1)],1),a("b-row",[a("b-col",[a("div",{staticClass:"accordion",attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left",attrs:{block:"",variant:"info",size:"sm"}},[t._v("Targets")])],1),a("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",{staticClass:"text-left"},[a("b-form-checkbox",{attrs:{size:"sm",id:"checkbox-1",name:"checkbox-1",value:"accepted","unchecked-value":"not_accepted"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" Search Terms ")])],1),a("b-card-text",{staticClass:"text-left"},[a("b-form-checkbox",{attrs:{size:"sm",id:"checkbox-2",name:"checkbox-2",value:"accepted","unchecked-value":"not_accepted"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" All Titles ")])],1),a("b-card-text",{staticClass:"text-left"},[a("b-form-checkbox",{attrs:{size:"sm",id:"checkbox-2",name:"checkbox-2",value:"accepted","unchecked-value":"not_accepted"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" #1 Title ")])],1),a("b-card-text",{staticClass:"text-left"},[a("b-form-checkbox",{attrs:{size:"sm",id:"checkbox-2",name:"checkbox-2",value:"accepted","unchecked-value":"not_accepted"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" #ASINs ")])],1)],1)],1)],1),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"text-left",attrs:{block:"",variant:"info",size:"sm"}},[t._v("Filters")])],1),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",{staticClass:"text-left"},[a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("b-form-checkbox",{attrs:{size:"sm",id:"checkbox-4",name:"checkbox-4",value:"accepted","unchecked-value":"not_accepted"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" Rank ")])],1),a("b-col",{attrs:{cols:"1"}},[t._v(" > ")]),a("b-col",{attrs:{cols:"2"}},[a("b-form-input",{attrs:{id:"input-small",size:"sm"}})],1),a("b-col",{attrs:{cols:"1"}},[t._v(" < ")]),a("b-col",{attrs:{cols:"2"}},[a("b-form-input",{attrs:{id:"input-small",size:"sm"}})],1)],1)],1)],1)],1)],1)],1)])],1)],1)},S=[],C={name:"SaveSearch",data:function(){return{}},methods:{}},O=C,D=Object(l["a"])(O,w,S,!1,null,null,null),P=D.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-file"},[a("p",[t._v("Data Current to: November, 22 2020")]),a("p",[t._v("Historical Dates missing: Sept 1-7 2020, Sept 15-23 2020, Oct 1-7 2020")]),t.lastHistories.length>0?a("p",[t._v("Last Upload: "+t._s(t.lastHistories[t.lastHistories.length-1].recordNumber)+" records - "+t._s(t.lastHistories[t.lastHistories.length-1].uploadedTime))]):t._e(),a("b-row",[a("b-col",[a("input",{attrs:{id:"fileUpload",type:"file",accept:".xlsx, .xls, .csv",hidden:""},on:{change:t.uploadFile}}),a("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.chooseFiles()}}},[t._v("Upload CSV")])],1)],1),""!=t.status?a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{cols:"3"}},[t._v(t._s(t.status))]),a("b-col",{attrs:{cols:"6"}},[a("b-progress",{attrs:{value:t.value,max:t.max,"show-progress":"",animated:""}})],1),a("b-col",{attrs:{cols:"3"}},[a("b-link",{attrs:{disabled:!t.cancelSource},on:{click:t.cancelUpload}},[t._v("Cancel")])],1)],1):t._e()],1)},T=[],z=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("bc3a")),H=a.n(z),R={serverURL:"http://localhost:8081/"},M=a("2f62");function U(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?U(Object(a),!0).forEach((function(e){E(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function E(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var I={name:"UploadFile",data:function(){return{value:0,max:100,status:"",cancelSource:null}},computed:A({},Object(M["b"])(["lastHistories"])),mounted:function(){this.$store.dispatch("storeHistory")},methods:{chooseFiles:function(){this.status="",document.getElementById("fileUpload").click()},cancelUpload:function(){this.cancelSource&&(this.cancelSource.cancel("Start new search, stop active search"),console.log("cancel request done"))},onUploadProgress:function(t){var e=Math.round(100*t.loaded/t.total);this.value=e,console.log("onUploadProgress",e)},uploadFile:function(t){var e=this;this.status="uploading...",this.cancelSource=H.a.CancelToken.source();var a=new FormData;a.append("file",t.target.files[0]),H.a.post(R.serverURL+"data/uploadFile",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:this.onUploadProgress,cancelToken:this.cancelSource.token}).then((function(t){console.log(t),e.status="finished"})).catch((function(t){console.log(t)}))}}},F=I,$=Object(l["a"])(F,j,T,!1,null,null,null),L=$.exports,N={components:{DataViewComponent:_,SaveSearchComponent:P,UploadFileComponent:L},name:"Home",data:function(){return{}},methods:{}},B=N,V=Object(l["a"])(B,f,p,!1,null,null,null),Y=V.exports;r["default"].use(b["a"]);var J=[{path:"/",name:"Home",component:Y}],q=new b["a"]({mode:"history",base:"/",routes:J}),G=q,K={lastHistories:[]},Q={SAVE_LAST_HISTORY:"SAVE_LAST_HISTORY"};function W(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var X=W({},Q.SAVE_LAST_HISTORY,(function(t,e){t.lastHistories.push(e)}));function Z(t,e,a,r,s,n,o){try{var c=t[n](o),l=c.value}catch(i){return void a(i)}c.done?e(l):Promise.resolve(l).then(r,s)}function tt(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function o(t){Z(n,r,s,o,c,"next",t)}function c(t){Z(n,r,s,o,c,"throw",t)}o(void 0)}))}}var et={storeHistory:function(t,e){return tt(regeneratorRuntime.mark((function e(){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,H.a.get(R.serverURL+"history/getLastHistory");case 4:r=e.sent,s=r.data,a(Q.SAVE_LAST_HISTORY,s),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}};function at(t,e,a,r,s,n,o){try{var c=t[n](o),l=c.value}catch(i){return void a(i)}c.done?e(l):Promise.resolve(l).then(r,s)}function rt(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function o(t){at(n,r,s,o,c,"next",t)}function c(t){at(n,r,s,o,c,"throw",t)}o(void 0)}))}}var st={getPageData:function(t){return rt(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.a.get(R.serverURL+"data/getData");case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}};r["default"].use(M["a"]);var nt=new M["a"].Store({state:K,getters:st,mutations:X,actions:et});r["default"].use(s["a"]),r["default"].use(n["a"]),r["default"].config.productionTip=!1,new r["default"]({router:G,store:nt,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){},d2aa:function(t,e,a){"use strict";a("270d")}});
//# sourceMappingURL=app.f15c612f.js.map